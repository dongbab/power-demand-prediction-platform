<!DOCTYPE html>
<html lang="ko">
<head>
    <title>âš¡ ì¶©ì „ì†Œ ì„ íƒ - ì „ë ¥ ì˜ˆì¸¡ ì‹œìŠ¤í…œ</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/station_selector.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš¡ ì¶©ì „ì†Œ ì„ íƒ</h1>
            <p>ë¶„ì„í•  100kW ê¸‰ì†ì¶©ì „ì†Œë¥¼ ì„ íƒí•˜ì„¸ìš” ({{ total_stations }}ê°œ ì¶©ì „ì†Œ)</p>
            <div class="quick-info">
                <span class="info-badge">ğŸ’¡ ëŒ€ì‹œë³´ë“œì—ì„œ ì‹¤ì‹œê°„ ë¶„ì„ì´ ì‹œì‘ë©ë‹ˆë‹¤</span>
            </div>
        </div>
        
        <div class="stations-grid">
            {% for station_id, station in stations.items() %}
            <div class="station-card {% if station_id == 'ALL' %}all-stations{% endif %}" 
                 onclick="navigateToStation('{{ station_id }}')">
                <div class="region-badge">{{ station.region }}</div>
                <div class="station-name">{{ station.name }}</div>
                <div class="station-location">ğŸ“ {{ station.location }}</div>
                <div class="station-info">
                    <span class="charger-type">âš¡ {{ station.charger_type }}</span>
                    <span class="status">âœ… {{ station.status }}</span>
                </div>
                <div class="station-actions">
                    <a href="/dashboard/{{ station_id }}" class="btn btn-primary" onclick="event.stopPropagation()">
                        ğŸ“Š ëŒ€ì‹œë³´ë“œ
                    </a>
                    <a href="/predict/{{ station_id }}" class="btn btn-secondary" onclick="event.stopPropagation()">
                        ğŸ”® ë¹ ë¥¸ ì˜ˆì¸¡
                    </a>
                    <a href="/api/station-analysis/{{ station_id }}" class="btn btn-secondary" onclick="event.stopPropagation()" target="_blank">
                        ğŸ“ˆ JSON ë³´ê¸°
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="footer">
            <div class="footer-info">
                <div class="info-section">
                    <h3>ğŸ’¡ ì‚¬ìš© ê°€ì´ë“œ</h3>
                    <p><strong>ëŒ€ì‹œë³´ë“œ:</strong> ì‹¤ì‹œê°„ ì°¨íŠ¸ì™€ ìƒì„¸ ë¶„ì„</p>
                    <p><strong>ë¹ ë¥¸ ì˜ˆì¸¡:</strong> JSON í˜•íƒœì˜ ì¦‰ì‹œ ì˜ˆì¸¡ ê²°ê³¼</p>
                    <p><strong>ì „ì²´ ë¶„ì„:</strong> ëª¨ë“  ì¶©ì „ì†Œ í†µí•© ë°ì´í„° ë¶„ì„</p>
                </div>
                <div class="info-section">
                    <h3>ğŸ”§ ê¸°ëŠ¥</h3>
                    <p>â€¢ ì‹¤ì‹œê°„ ì „ë ¥ ì˜ˆì¸¡</p>
                    <p>â€¢ ì›”ë³„ ê³„ì•½ ê¶Œê³ </p>
                    <p>â€¢ ì‹œê°„ëŒ€ë³„ íŒ¨í„´ ë¶„ì„</p>
                    <p>â€¢ ë°ì´í„° ì‹œê°í™”</p>
                </div>
            </div>
            <div class="footer-links">
                <a href="/api/docs">ğŸ“š API ë¬¸ì„œ</a> | 
                <a href="/api/stations">ğŸ“‹ ì¶©ì „ì†Œ ëª©ë¡ API</a> |
                <a href="/">ğŸ  ì‹œìŠ¤í…œ ì •ë³´</a>
            </div>
        </div>
    </div>
    
    <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>ëŒ€ì‹œë³´ë“œë¡œ ì´ë™ ì¤‘...</p>
            <small>ë°ì´í„° ë¶„ì„ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤</small>
        </div>
    </div>
    
    <script>
        // ì•ˆì „í•œ ë„¤ë¹„ê²Œì´ì…˜ í•¨ìˆ˜
        function navigateToStation(stationId) {
            showLoadingOverlay();
            
            // ì•½ê°„ì˜ ì§€ì—° í›„ ì´ë™ (ì‚¬ìš©ì í”¼ë“œë°±)
            setTimeout(() => {
                window.location.href = `/dashboard/${stationId}`;
            }, 500);
        }
        
        function showLoadingOverlay() {
            const overlay = document.getElementById('loading-overlay');
            if (overlay) {
                overlay.classList.remove('hidden');
            }
        }
        
        // ë’¤ë¡œê°€ê¸° ì‹œ ë¡œë”© ì˜¤ë²„ë ˆì´ ìˆ¨ê¹€
        window.addEventListener('pageshow', function() {
            const overlay = document.getElementById('loading-overlay');
            if (overlay) {
                overlay.classList.add('hidden');
            }
        });
    </script>
    
    <script src="/static/js/station_selector.js"></script>
</body>
</html>